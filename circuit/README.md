回路設計時のノート

いろいろ悩みそうなところだけど、どこから悩めばいいのかもわからなかったので、まずはモータドライバ回路から設計しようと思う。

モータドライバ設計の前に、H ブリッジを駆動するためのゲートドライバ選びについて記述する。
##### ゲートドライバ
まず、ゲートドライバに必要な要素は以下の通り。
- Nch フルブリッジ回路を組むことができるか？
- 100% duty で出力できるか？
ということらしい。

###### Nch フルブリッジ回路
Nch フルブリッジ回路を組むことの利点は以下。
- Pch は Nch に比べて性能が低い。
- Pch は品種があまりない。
- パワー素子は一種類のみで済ませて手間を省きたい。（Pch か Nch にそろえて同じ素子を使って製作できるようにしたい。）
- Pch は値段が高い。
上記理由を先輩に教えていただいたが、教えていただいた後にネットを探したところ、同様の記述を発見した。[参考](http://blog.livedoor.jp/wata_net/archives/2147292.html)。
[こっちのサイト](https://qiita.com/panzakii/items/97eca16954d34ecf0c8b)には「なぜフルNchにこだわるかというと、単純にその方が流せる電流が大きくなるからです。実はPchFETはNchFETに比べ流せる電流が少ないのです。原理について説明しだすと本当にキリがないので説明しません。興味のある人はググってください。」などと記述されているが、ググってもそんな記述は一切出てこない。なんなんだ。

「品種が多いから Pch よりも大電流の流せる Nch MOSFET」ならわかるが、「原理」とか「説明しだすとキリがない」とか記述されているのは本当に意味が分からない。

###### 100% duty で出力
- 最大出力で出せたほうが良いにきまっとるやろ！

二つのメリットをカバーできて、より入手しやすい IC が A3921 だそうで、それが理由でよく利用される。

##### モータドライバ
ゲートドライバが決まったところで、次に使用する FET とそれにつながる制限抵抗やコンデンサの値を決める必要がある。
特にこの抵抗とコンデンサは真剣に決めないとショートしてリポが死ぬ。マジで。

***書き途中***

##### CPU
先輩が STM32F405RGT6 を束買いしているので、とりあえずこれにするのはアリ。
クロック数とメモリと機能的に、ロボトレにいい塩梅で使えそうなのがこの CPU らしい。

***書き途中***

##### 電源回路
この電源回路を決めるのにレギュレータを選ぶ必要があるのだが、レギュレータの出力が決まらない以上は手の付けようがない。だからさっさとほかの回路作れ。電源選びは最後だ。
