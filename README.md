# Murakumo
ロボトレ

- [x] 種類を決める
 - [x] 基板がシャーシかシャーシの上に基板か > シャーシの上に基板 ∵ 自由度が高そう（基板だけ取り換えるとかいう改造も可能）
 - [x] センサステアかステア固定か > センサ固定 ∵ シンプルな設計ができる
 - [x] 対向二輪かスキッドステアか4輪ステアか > スキッドステア

- [x] サイズ・重量
 - [x] サイズ > H W100 D (mm) 可能な限り小さくする。∵ 小さいということは必然的に質量も小さくなるから。
 - [x] 重量 > 100 (g)

- [ ] センサバーの長さ・トレッド・ホイールベース
 - [ ] センサバーの長さ > センサバー以外の部分と同じ長さ
 - [ ] トレッド > 100 - 13 ∵ トレッドが 100 でタイヤ幅が 13 というのが先に決まったから。
 - [ ] ホイールベース > 極めて短く ∵ タイヤの軸方向のモーメントを小さくするため。

- [x] 最高速度・最高加速度
 - [x] 最高速度 > 8.5 (m/s) ∵ 6 ~ 7 (m/s) あれば十分で最強が 10 (m/s) なら、間を取って 8.5 (m/s) で良いかなって
 - [x] 最高加速度 > 17 (m/s/s) 厳密には 16.9851178 (m/s/s) 数式的には 1.732 * g (但、ここにおける g とは重力加速度) ∵ 最大加速度で加速したときにスリップしないギリギリの加速度がこれだった。

- [x] タイヤ径・幅
 - [x] 径 > 20 (mm) (直径)
 - [x] 幅 > 13 (mm)
 - [x] タイヤには井口先輩の機体にくっついてるシールを使う。

- [x] 最高速度から必要な出力回転数を求める > 8117 (rpm) 厳密には 8116.902098 (rpm) 数式的には (8.5 * 10^3 * 60) / (2pi * 10) = 25500 / pi ※
- [x] 最高加速度から必要な出力トルクを求める > 17000 (mNm) 厳密には 16985.1178 (mNm) 数式的には 1.732 * g * 100 * 10 = 1732 * g ※これを超えたトルクを出すとスリップする。また、片側の車輪のトルクはこれの 1/2 倍となる。
- [x] この時点でパワー（仕事率）は 137989000 (W) 厳密には 137866538.3 (W) 数式的には (25500 / pi) * (1732 * g)

- [x] バッテリ > Hyperion G8 HV 3.7V 220mAh

- [x] モータ > DCX 10 L 貴金属ブラシ 1.5V
- ブラシレスモータは、モータ外部に複数の制御回路を組む必要があり、回路が全体的に複雑なものになってしまうため、今回はコンセプトにそぐわないとして、採用を見送りとする。 [詳細はこちら](https://www.orientalmotor.co.jp/tech/reference/brushless01/)
- 尚、優良なブラシレスモータとして、maxon EC 4 0.5W 3V をメモしておく。

- [ ] ギヤ比 > ギヤ比って回転数で決めるのかトルク比で決めるのか、どっちで決めた方がいいのか... maxon motor のカタログの P54 くらいを見てヒントを探す。
- 回転数とトルクをまとめると...
- 最高速度 : 8.5 m/s
- モータの最大回転数 rpm : 11600 rpm
- 最高加速度 : 17 m/s/s
- モータの最大トルク : 87.241 mNm
- 回転数から求めるギヤ比 = (最高速度 / 2pi) / (2pi * (モータの回転数 rpm) / 60) = 60 * (最高速度) / (モータの回転数 rpm)
- これより大きくなれば良い。
- トルクから求めるギヤ比 = (ピニオンのトルク) / (スパーギアのトルク) = モータのトルク * (ピニオンの半径 / モータ軸半径)  / 最高加速度 * スパーギアの半径 = (モータのトルク * ピニオン半径) / (モータ軸半径 * 最高加速度 * スパーギア半径)
- (モータのトルク) = (ピニオンのトルク) とするならば、
- トルクから求めるギア比 = (モータのトルク) / (最高加速度 * スパーギアの半径) となり、上記に戻すには (ピニオン半径 / モータ軸半径) を掛け算する必要がある。
- これより小さくなればいい。
- 求めるギア比の範囲は (トルクから求めるギア比) >= n >= (回転数から求めるギア比) とすればよい。

- 実際に求めた結果
- 回転数から求めるギア比 = 51 / 923 = 0.05525460455 ≒ 0.0553
- トルクから求めるギア比（ピニオン半径 = モータ軸半径） = 26 / 4675
- おかしい、トルクから求めるギア比の方が小さくなったぞ？？？

##### メモ
小さいギヤと大きいギヤが一つになってるやつの特徴（小さいやつを「入力ギヤ」、大きいやつを「出力ギヤ」とする）
- 回転数が同じ => 角速度が同じ
- 接戦方向成分の速度が大きくなる（∵v = rw）
- トルクはどうなる？半径は大きくなったが、同じ力が伝達されるとは限らないぞ？-> 同じ力が伝達されることの証明は必要？
- ゆーて普通の減速比と同じよ
- ###### ここから自分なりの考察
- (減速比) = (外側歯車の角速度) / (内側歯車の角速度) = (2pi * 外側歯車の回転数) / (2pi * 内側歯車の回転数) = (外側歯車の回転数) / (内側歯車の回転数)

- スキッドステアのトルクを考えるときは、同じ車輪径の対向二輪として考えることができる。

- 平歯車や傘歯車における「効率」とは、仕事率の伝達効率。
- 例えば効率 50% の歯車機構があったとして、動力側の出力が t, w だとする。
- すると被動力側の出力は t * w * 0.5 となる。
- ただ角速度は等速のため、単純にトルクが 1 / 2 倍されたと考えることができる。
- 平歯車はインボリュート曲線というものを用いて、歯車同士の接触している点は必ず向心直線に垂直（モーメント方向）に力が加わるように設計されている。これにより様々な種類の歯車機構の中でも最も伝達効率の良い歯車機構となっている。ほかの機構では力の方向が効率よくモーメント方向に力が加えられなかったり、摩擦によって熱として損失が発生してしまう。

- 公称電圧はあくまでモータの種類を区別するためのもの。

- 停動トルクは最大トルク

- 無負荷回転数の時最高速度が出せるのが理想だが、実際は摩擦を考慮してトルクが少しある状態で必要な回転数が得られるようにモータを選定する。

##### 復習
- (減速比) = (タイヤの角速度) / (モータの角速度)
- (仕事率(パワー)) = (トルク) * (角速度)
- ギヤ間で仕事率は保存される
- ∴ (減速比) = (モータのトルク) / (タイヤのトルク) とも言える。
- 深く調べてみると、減速比の定義は
- (減速比) = (ピニオンギアの歯数) / (スパーギアの歯数)　のようだ。これが結局 (スパーギアの角速度) / (ピニオンギアの角速度) になるっぽい。
- 速度伝達比 というのもあって、これは歯車列において最初と最後しか見ない。
- (速度伝達比) = (最後の歯車の歯数(作用側)) / (最初の歯車の歯数(動力側)) 二段で考えれば減速比と同じ考えで良いんじゃね？

- トルクは電流に比例し、角速度は起電力に比例する。この時の比例定数をそれぞれ、「トルク定数」「回転数定数」と呼ぶ。
- モータの等価回路は、抵抗と電源とみなすことによって V = RI + E の式が得られる。これに上記比例式を適応すると、トルクから回転数を求める一次関数が得られる。
- 回転数とトルクの関係式 : w = - (k_w / k_t) * R * t + k_w * V (w : 回転数 k_w : 回転数定数 k_t : トルク定数 R : レジスタンス V : 公称電圧)
- 定格トルク以下なら何をやってもいい。定格トルクを超えたいときは一瞬だけ！

##### Maxon Catalog 読み替え単語帳
無負荷回転数 => 最大回転数
最大連続トルク時の回転数 => 定格回転数
最大連続トルク => 定格トルク
※最大トルク = トルク定数 * 無負荷電流
